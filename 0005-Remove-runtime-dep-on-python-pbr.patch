From e53ff3df70700ad9e2f7c5fcd3a79626aea70d9b Mon Sep 17 00:00:00 2001
From: John Bresnahan <jbresnah@redhat.com>
Date: Mon, 9 Sep 2013 16:28:29 -1000
Subject: [PATCH] Remove runtime dep on python pbr

---
 glance/version.py | 28 ++++++++++++++++++++++++++--
 1 file changed, 26 insertions(+), 2 deletions(-)

diff --git a/glance/version.py b/glance/version.py
index d815183..861e104 100644
--- a/glance/version.py
+++ b/glance/version.py
@@ -14,7 +14,31 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
+GLANCE_VENDOR = "OpenStack Foundation"
+GLANCE_PRODUCT = "OpenStack Glance"
+GLANCE_PACKAGE = None  # OS distro package version suffix
 
-import pbr.version
+loaded = False
 
-version_info = pbr.version.VersionInfo('glance')
+
+class VersionInfo(object):
+    release = "REDHATGLANCERELEASE"
+    version = "REDHATGLANCEVERSION"
+
+    def version_string(self):
+        return self.version
+
+    def cached_version_string(self):
+        return self.version
+
+    def release_string(self):
+        return self.release
+
+    def canonical_version_string(self):
+        return self.version
+
+    def version_string_with_vcs(self):
+        return self.release
+
+
+version_info = VersionInfo()
